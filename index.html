<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>IA-MOLGEN · Demo</title>
  <style>
    body{font-family:system-ui,-apple-system,Segoe UI,Roboto;max-width:900px;margin:40px auto;padding:0 16px}
    select,input,button{font-size:16px;padding:8px;border:1px solid #ccc;border-radius:8px}
    button{cursor:pointer} .card{border:1px solid #eee;border-radius:12px;padding:12px;margin:10px 0}
    .muted{color:#666} pre{white-space:pre-wrap;word-break:break-word}
  </style>
</head>
<body>
  <h2>IA-MOLGEN · Generación de SMILES</h2>
  <p class="muted">Demo mínima: llama a <code>/api/generate</code> y muestra SMILES de ejemplo.</p>

  <div style="display:flex;gap:8px;flex-wrap:wrap;margin:12px 0">
    <label>Target
      <select id="target">
        <option value="SGLT2">SGLT2</option>
        <option value="GLP1R">GLP1R</option>
      </select>
    </label>
    <label>N
      <input id="n" type="number" min="1" max="50" value="10"/>
    </label>
    <button id="go">Generar</button>
  </div>

  <div id="out"></div>

  <script>
    const out = document.getElementById("out");
    document.getElementById("go").onclick = async () => {
      out.innerHTML = "<div class='card'>Generando...</div>";
      const t = document.getElementById("target").value;
      const n = document.getElementById("n").value;
      const r = await fetch(`/api/generate?target=${encodeURIComponent(t)}&n=${encodeURIComponent(n)}`);
      const data = await r.json();
      out.innerHTML = `
        <div class='card'>
          <div class='muted'>Target: ${data.target} · Cantidad: ${data.count}</div>
          <pre>${data.smiles.map((s,i)=>`${i+1}. ${s}`).join("\n")}</pre>
        </div>`;
    };
  </script>
</body>
</html>
